<?php
/**
 * Kelas Class
 *
 * @author	Awan Pribadi Basuki <awan_pribadi@yahoo.com>
 */
class Master extends CI_Controller {
	/**
	 * Constructor
	 */
	function __construct()
	{
		// $this->load->model('Master_model', '', TRUE);
		parent::__construct();
		$this->load->database();
		$this->load->helper('url');
		$this->load->model('main_model', '', TRUE);
		$this->load->library('grocery_CRUD');
		$this->_init();
	}
	
	private function _init()
	{
		$this->output->set_template('default');

		$this->load->js('assets/themes/default/js/jquery-1.9.1.min.js');
		$this->load->js('assets/themes/default/hero_files/bootstrap-transition.js');
		$this->load->js('assets/themes/default/hero_files/bootstrap-collapse.js');
	}

	/**
	 * Memeriksa user state, jika dalam keadaan login akan menampilkan halaman kelas,
	 * jika tidak akan meredirect ke halaman login
	 */
	function index()
	{
		if ($this->session->userdata('login') == TRUE)
		{
			$this->hotel();
		}
		else
		{
			redirect('login');
		}
	}
	public function _example_output($output = null)
	{
		$this->load->view('example.php',$output);
	}
	function hotel(){
		$crud = new grocery_CRUD();
		$crud->set_table('data_jamaah_agen');
		// $crud->unset_jquery();
		$crud->set_subject('Data Agen Umroh');
		$output = $crud->render();
		$data['menu1'] = $this->main_model->get_menu();
		$data['menu2'] = $this->main_model->get_menu(2);
		$output->data = $data;
		// $this->load->view('admin/new',$output);
		// print_r($output);
		$this->load->view('ci_simplicity/admin',$output);
	}
	function maskapai(){
		
	}
	function rute(){
		
	}
	function agen(){
		if ($this->session->userdata('login') != TRUE)
			redirect('login');
		$this->load->library('grocery_CRUD');
		$crud = new grocery_CRUD();
		$crud->set_lang_string('insert_success_message',
			 'Your data has been successfully stored into the database.<br/>Please wait while you are redirecting to the list page.
			 <script type="text/javascript">
			  window.parent.location.reload();
			 </script>
			 <div style="display:none">
			 '
	   );
		$crud->set_lang_string('update_success_message',
			 'Your data has been successfully stored into the database.<br/>Please wait while you are redirecting to the list page.
			 <script type="text/javascript">
				 window.parent.location.reload();
			 </script>
			 <div style="display:none">
			 '
	   );
		$crud->set_theme('twitter-bootstrap');
		// $crud->set_theme('datatables');
		$crud->set_table('data_jamaah_agen');
		// $crud->unset_jquery();
		$crud->set_subject('Data Agen Umroh');
		$output = $crud->render();
		// echo '<pre>';var_dump($output->data);echo '</pre>';
		$data['menu1'] = $this->main_model->get_menu();
		$data['menu2'] = $this->main_model->get_menu(2);
		$output->data = $data;
		$this->load->view('admin/new',$output);
	}
	function leader(){
		
	}
	function jamaah(){
		
	}
	function log(){
		
	}
	
}
// END Kelas Class

/* End of file kelas.php */
/* Location: ./system/application/controllers/kelas.php */